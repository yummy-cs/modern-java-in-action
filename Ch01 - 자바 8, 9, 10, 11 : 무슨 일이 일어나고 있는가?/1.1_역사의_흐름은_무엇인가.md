# 1.1 역사의 흐름은 무엇인가?

자바 역사를 통틀어 가장 큰 변화가 자바 8에서 일어났다. 이런 변화 덕분에 프로그램을 더 쉽게 구현할 수 있게 되었다. 

다음은 사과 목록을 무게순으로 정렬하는 코드다.

```java
Collections.sort(inventory, new Comparator<Apple>() {
	public int compare(Apple a1, Apple a2) {
		return a1.getWeight().compareTo(a2.getWeight());	
	}
});
```

자바 8을 이용하면 자연어에 더 가깝게 간단한 방식으로 코드를 구현할 수 있다.

```java
inventory.sort(comparing(Apple::getWeight));
```

---

멀티코어 CPU 대중화와 같은 하드웨어적인 변화도 자바 8에 영향을 미쳤다. 

지금까지의 대부분의 자바 프로그램은 코어 중 하나만을 사용했다. 자바 8이 등장하기 이전에는 나머지 코어를 사용하려면 스레드를 사용해야 했다. 하지만 스레드를 사용하면 관리하기 어렵고 많은 문제가 발생할 수 있다. 

이러한 병렬 실행 환경을 쉽게 관리하고 에러가 덜 발생하는 방향으로 자바는 진화하려고 노력했다. 

- 자바 1.0에서는 스레드, 락, 메모리 모델을 지원했다. 하지만 특별 전문가가 아닌 이상, 이와 같은 저수준 기능을 온전히 활용하기는 어려웠다.
- 자바 5에서는 스레드 풀, 병렬 실행 컬렉션 등 강력한 도구를 도입했다.
- 자바 7에서는 병렬 실행에 도움을 줄 수 있는 포크/조인 프레임워크를 제공했다.
- 자바 8에서는 병렬 실행을 새롭고 단순한 방식으로 접근할 수 있는 방법을 제공한다.
- 자바 9에서는 리액티브 프로그래밍이라는 병렬 실행 기법을 지원한다. RxJava(리액티브 스트림 툴킷)를 표준적인 방식으로 지원한다.

---

자바 8은 간결한 코드, 멀티코어 프로세서의 쉬운 활용이라는 두 가지 요구사항을 기반으로 한다.

자바 8에서 제공하는 새로운 기술은 다음과 같다.

- 스트림 API
    
    병렬 연산을 지원하는 스트림이라는 새로운 API를 제공한다. 스트림을 이용하면 에러를 자주 일으키며 멀티코어 CPU를 이용하는 것보다 비용이 훨씬 비싼 키워드 `synchronized`를 사용하지 않아도 된다.
    
- 메서드에 코드를 전달하는 간결 기법(메서드 참조와 람다)
    
    새롭고 간결한 방식으로 동작 파라미터화를 구현할 수 있다. 
    
- 인터페이스의 디폴트 메서드

---

자바 8은 함수형 프로그래밍에서 위력을 발휘한다. 코드를 전달하거나 조합해서 자바의 강력한 프로그래밍 도구로 활용할 수 있다.
